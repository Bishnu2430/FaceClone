{% extends 'base.html' %} {% block content %}

<div class="card p-4 text-center mb-4">
  {% if profile_user.profile.avatar %}
  <img
    src="{{ profile_user.profile.avatar.url }}"
    class="rounded-circle mb-3"
    width="120"
    height="120"
  />
  {% else %}
  <img src="https://via.placeholder.com/120" class="rounded-circle mb-3" />
  {% endif %}

  <h3>{{ profile_user.username }}</h3>
  <p class="text-muted">{{ profile_user.profile.bio }}</p>

  <p class="text-muted">
    {{ profile_user.profile.followers_count }} Follower{{
    profile_user.profile.followers_count|pluralize }} â€¢ {{
    profile_user.profile.following_count }} Following
  </p>

  {% if user.is_authenticated and user != profile_user %}
  <form method="post" action="{% url 'follow_toggle' profile_user.username %}">
    {% csrf_token %}
    <button class="btn btn-primary">
      {% if is_following %}Unfollow{% else %}Follow{% endif %}
    </button>
  </form>
  {% endif %} {% if user == profile_user %}
  <a href="{% url 'edit_profile' %}" class="btn btn-secondary mt-2"
    >Edit Profile</a
  >
  {% endif %}
</div>

<!-- Posts -->
{% for post in posts %}
<div class="card p-3 mb-3">
  <p>{{ post.content }}</p>
  {% if post.image %}
  <img src="{{ post.image.url }}" class="img-fluid rounded" />
  {% endif %}
</div>
{% endfor %} {% endblock %}
